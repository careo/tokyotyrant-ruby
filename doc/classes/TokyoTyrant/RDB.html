<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: TokyoTyrant::RDB</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">TokyoTyrant::RDB</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/tokyotyrant_rb.html">
                tokyotyrant.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Remote database is a set of interfaces to use an abstract database of Tokyo
Cabinet, mediated by a server of Tokyo Tyrant. Before operations to <a
href="RDB.html#M000036">store</a> or retrieve records, it is necessary to
connect the remote database object to the server. The method `<a
href="RDB.html#M000012">open</a>' is used to <a
href="RDB.html#M000012">open</a> a database connection and the method `<a
href="RDB.html#M000013">close</a>' is used to <a
href="RDB.html#M000013">close</a> the connection.<br/>
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000045">[]</a>&nbsp;&nbsp;
      <a href="#M000044">[]=</a>&nbsp;&nbsp;
      <a href="#M000027">adddouble</a>&nbsp;&nbsp;
      <a href="#M000026">addint</a>&nbsp;&nbsp;
      <a href="#M000041">clear</a>&nbsp;&nbsp;
      <a href="#M000013">close</a>&nbsp;&nbsp;
      <a href="#M000031">copy</a>&nbsp;&nbsp;
      <a href="#M000037">delete</a>&nbsp;&nbsp;
      <a href="#M000046">each</a>&nbsp;&nbsp;
      <a href="#M000048">each_keys</a>&nbsp;&nbsp;
      <a href="#M000047">each_pair</a>&nbsp;&nbsp;
      <a href="#M000049">each_values</a>&nbsp;&nbsp;
      <a href="#M000011">ecode</a>&nbsp;&nbsp;
      <a href="#M000043">empty?</a>&nbsp;&nbsp;
      <a href="#M000010">errmsg</a>&nbsp;&nbsp;
      <a href="#M000028">ext</a>&nbsp;&nbsp;
      <a href="#M000038">fetch</a>&nbsp;&nbsp;
      <a href="#M000025">fwmkeys</a>&nbsp;&nbsp;
      <a href="#M000020">get</a>&nbsp;&nbsp;
      <a href="#M000039">has_key?</a>&nbsp;&nbsp;
      <a href="#M000040">has_value?</a>&nbsp;&nbsp;
      <a href="#M000023">iterinit</a>&nbsp;&nbsp;
      <a href="#M000024">iternext</a>&nbsp;&nbsp;
      <a href="#M000050">keys</a>&nbsp;&nbsp;
      <a href="#M000042">length</a>&nbsp;&nbsp;
      <a href="#M000021">mget</a>&nbsp;&nbsp;
      <a href="#M000035">misc</a>&nbsp;&nbsp;
      <a href="#M000009">new</a>&nbsp;&nbsp;
      <a href="#M000012">open</a>&nbsp;&nbsp;
      <a href="#M000019">out</a>&nbsp;&nbsp;
      <a href="#M000014">put</a>&nbsp;&nbsp;
      <a href="#M000016">putcat</a>&nbsp;&nbsp;
      <a href="#M000015">putkeep</a>&nbsp;&nbsp;
      <a href="#M000018">putnr</a>&nbsp;&nbsp;
      <a href="#M000017">putshl</a>&nbsp;&nbsp;
      <a href="#M000032">rnum</a>&nbsp;&nbsp;
      <a href="#M000033">size</a>&nbsp;&nbsp;
      <a href="#M000034">stat</a>&nbsp;&nbsp;
      <a href="#M000036">store</a>&nbsp;&nbsp;
      <a href="#M000029">sync</a>&nbsp;&nbsp;
      <a href="#M000051">values</a>&nbsp;&nbsp;
      <a href="#M000030">vanish</a>&nbsp;&nbsp;
      <a href="#M000022">vsiz</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESUCCESS</td>
          <td>=</td>
          <td class="context-item-value">0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: success

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EINVALID</td>
          <td>=</td>
          <td class="context-item-value">1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid operation

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ENOHOST</td>
          <td>=</td>
          <td class="context-item-value">2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: host not found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EREFUSED</td>
          <td>=</td>
          <td class="context-item-value">3</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: connection refused

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESEND</td>
          <td>=</td>
          <td class="context-item-value">4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: send error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ERECV</td>
          <td>=</td>
          <td class="context-item-value">5</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: recv error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EKEEP</td>
          <td>=</td>
          <td class="context-item-value">6</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: existing record

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ENOREC</td>
          <td>=</td>
          <td class="context-item-value">7</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: no record found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EMISC</td>
          <td>=</td>
          <td class="context-item-value">9999</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: miscellaneous error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XOLCKREC</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
scripting extension option: record locking

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">XOLCKGLB</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
scripting extension option: global locking

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MONOULOG</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
versatile function option: omission of the update log

</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000009" class="method-detail">
        <a name="M000009"></a>

        <div class="method-heading">
          <a href="RDB.src/M000009.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000009.html');return false;">
          <span class="method-name">new</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a remote database object.<br/> The return value is the <a
href="RDB.html#M000009">new</a> remote database object.<br/>
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="RDB.src/M000045.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000045.html');return false;">
          <span class="method-name">[]</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000020">get</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="RDB.src/M000044.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000044.html');return false;">
          <span class="method-name">[]=</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000014">put</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="RDB.src/M000027.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000027.html');return false;">
          <span class="method-name">adddouble</span><span class="method-args">(key, num)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add a real number to a record.<br/> `<em>key</em>' specifies the key.<br/>
`<em>num</em>' specifies the additional value. If it is not defined,
0 is specified.<br/> If successful, the return value is the summation value,
else, it is `nil'.<br/> If the corresponding record exists, the value is
treated as a real number and is added to. If no record corresponds, a <a
href="RDB.html#M000009">new</a> record of the additional value is stored.
Because records are stored in binary format, they should be processed with
the `unpack' function with the `d' operator after retrieval.<br/>
</p>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="RDB.src/M000026.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000026.html');return false;">
          <span class="method-name">addint</span><span class="method-args">(key, num = 0)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add an integer to a record.<br/> `<em>key</em>' specifies the key.<br/>
`<em>num</em>' specifies the additional value. If it is not defined,
0 is specified.<br/> If successful, the return value is the summation value,
else, it is `nil'.<br/> If the corresponding record exists, the value is
treated as an integer and is added to. If no record corresponds, a <a
href="RDB.html#M000009">new</a> record of the additional value is stored.
Because records are stored in binary format, they should be processed with
the `unpack' function with the `i' operator after retrieval.<br/>
</p>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="RDB.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000041.html');return false;">
          <span class="method-name">clear</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000030">vanish</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="RDB.src/M000013.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000013.html');return false;">
          <span class="method-name">close</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Close the database connection.<br/> If successful, the return value is true,
else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="RDB.src/M000031.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000031.html');return false;">
          <span class="method-name">copy</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy the database file.<br/> `<em>path</em>' specifies the path of the
destination file. If it begins with `@', the trailing substring is
executed as a command line.<br/> If successful, the return value is true,
else, it is false. False is returned if the executed command returns
non-zero code.<br/> The database file is assured to be kept synchronized and
not modified while the copying or executing operation is in progress. So,
this method is useful to create a backup file of the database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="RDB.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000037.html');return false;">
          <span class="method-name">delete</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000019">out</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="RDB.src/M000046.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000046.html');return false;">
          <span class="method-name">each</span><span class="method-args">() {|key, value| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Iterator of pairs of the key and the value.<br/>
</p>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="RDB.src/M000048.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000048.html');return false;">
          <span class="method-name">each_keys</span><span class="method-args">() {|key| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Iterator of the <a
href="RDB.html#M000050">keys</a>.<br/>
</p>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <span class="method-name">each_pair</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="RDB.html#M000046">each</a>
</p>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="RDB.src/M000049.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000049.html');return false;">
          <span class="method-name">each_values</span><span class="method-args">() {|value| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Iterator of the <a
href="RDB.html#M000051">values</a>.<br/>
</p>
        </div>
      </div>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="RDB.src/M000011.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000011.html');return false;">
          <span class="method-name">ecode</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the last happened error code.<br/> The return value is the last happened
error code.<br/> The following error code is defined:
`TokyoTyrant::RDB::ESUCCESS' for success,
`TokyoTyrant::RDB::EINVALID' for invalid operation,
`TokyoTyrant::RDB::ENOHOST' for host not found,
`TokyoTyrant::RDB::EREFUSED' for connection refused,
`TokyoTyrant::RDB::ESEND' for send error,
`TokyoTyrant::RDB::ERECV' for recv error,
`TokyoTyrant::RDB::EKEEP' for existing record,
`TokyoTyrant::RDB::ENOREC' for no record found,
`TokyoTyrant::RDB::EMISC' for miscellaneous error.<br/>
</p>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="RDB.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000043.html');return false;">
          <span class="method-name">empty?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a href="RDB.html#M000032">rnum</a>
&gt; 0'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000010" class="method-detail">
        <a name="M000010"></a>

        <div class="method-heading">
          <a href="RDB.src/M000010.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000010.html');return false;">
          <span class="method-name">errmsg</span><span class="method-args">(ecode = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the message string corresponding to an error code.<br/> `<em><a
href="RDB.html#M000011">ecode</a></em>' specifies the error code. If
it is not defined or negative, the last happened error code is specified.<br/>
The return value is the message string of the error code.<br/>
</p>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="RDB.src/M000028.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000028.html');return false;">
          <span class="method-name">ext</span><span class="method-args">(name, key = &quot;&quot;, value = &quot;&quot;, opts = 0)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Call a function of the script language extension.<br/> `<em>name</em>'
specifies the function name.<br/> `<em>key</em>' specifies the key. If
it is not defined, an empty string is specified.<br/> `<em>value</em>'
specifies the value. If it is not defined, an empty string is specified.<br/>
`<em>opts</em>' specifies options by bitwise-or:
`TokyoTyrant::RDB::XOLCKREC' for record locking,
`TokyoTyrant::RDB::XOLCKGLB' for global locking. If it is not
defined, no option is specified.<br/> If successful, the return value is the
value of the response or `nil' on failure.<br/>
</p>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="RDB.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000038.html');return false;">
          <span class="method-name">fetch</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000020">get</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="RDB.src/M000025.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000025.html');return false;">
          <span class="method-name">fwmkeys</span><span class="method-args">(prefix, max = -1)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get forward matching <a href="RDB.html#M000050">keys</a>.<br/>
`<em>prefix</em>' specifies the prefix of the corresponding <a
href="RDB.html#M000050">keys</a>.<br/> `<em>max</em>' specifies the
maximum number of <a href="RDB.html#M000050">keys</a> to be fetched. If it
is not defined or negative, no limit is specified.<br/> The return value is an
array of the <a href="RDB.html#M000050">keys</a> of the corresponding
records. This method does never fail and return an empty array even if no
record corresponds.<br/> Note that this method may be very slow because every
key in the database is scanned.<br/>
</p>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="RDB.src/M000020.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000020.html');return false;">
          <span class="method-name">get</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve a record.<br/> `<em>key</em>' specifies the key.<br/> If
successful, the return value is the value of the corresponding record.
`nil' is returned if no record corresponds.<br/>
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="RDB.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000039.html');return false;">
          <span class="method-name">has_key?</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Check existence of a key.<br/>
</p>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="RDB.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000040.html');return false;">
          <span class="method-name">has_value?</span><span class="method-args">(value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Check existence of a value.<br/>
</p>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="RDB.src/M000023.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000023.html');return false;">
          <span class="method-name">iterinit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initialize the iterator.<br/> If successful, the return value is true, else,
it is false.<br/> The iterator is used in order to access the key of every
record stored in a database.<br/>
</p>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="RDB.src/M000024.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000024.html');return false;">
          <span class="method-name">iternext</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the next key of the iterator.<br/> If successful, the return value is the
next key, else, it is `nil'. `nil' is returned when no record
is to be <a href="RDB.html#M000020">get</a> <a
href="RDB.html#M000019">out</a> of the iterator.<br/> It is possible to access
every record by iteration of calling this method. It is allowed to update
or remove records whose <a href="RDB.html#M000050">keys</a> are fetched
while the iteration. However, it is not assured if updating the database is
occurred while the iteration. Besides, the order of this traversal access
method is arbitrary, so it is not assured that the order of storing matches
the one of the traversal access.<br/>
</p>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="RDB.src/M000050.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000050.html');return false;">
          <span class="method-name">keys</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Get an array of all <a
href="RDB.html#M000050">keys</a>.<br/>
</p>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="RDB.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000042.html');return false;">
          <span class="method-name">length</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000032">rnum</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="RDB.src/M000021.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000021.html');return false;">
          <span class="method-name">mget</span><span class="method-args">(recs)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve records.<br/> `<em>recs</em>' specifies a hash containing the
retrieval <a href="RDB.html#M000050">keys</a>. As a result of this method,
<a href="RDB.html#M000050">keys</a> existing in the database have the
corresponding <a href="RDB.html#M000051">values</a> and <a
href="RDB.html#M000050">keys</a> not existing in the database are
removed.<br/> If successful, the return value is the number of retrieved
records or -1 on failure.<br/>
</p>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="RDB.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000035.html');return false;">
          <span class="method-name">misc</span><span class="method-args">(name, args = [], opts = 0)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Call a versatile function for miscellaneous operations.<br/>
`<em>name</em>' specifies the name of the function. All databases
support &quot;putlist&quot;, &quot;outlist&quot;, and &quot;getlist&quot;.
&quot;putlist&quot; is to <a href="RDB.html#M000036">store</a> records. It
receives <a href="RDB.html#M000050">keys</a> and <a
href="RDB.html#M000051">values</a> one after the other, and returns an
empty list. &quot;outlist&quot; is to remove records. It receives <a
href="RDB.html#M000050">keys</a>, and returns an empty array.
&quot;getlist&quot; is to retrieve records. It receives <a
href="RDB.html#M000050">keys</a>, and returns <a
href="RDB.html#M000050">keys</a> and <a href="RDB.html#M000051">values</a>
of corresponding records one after the other. Table database supports
&quot;setindex&quot;, &quot;search&quot;, and &quot;genuid&quot;.<br/>
`<em>args</em>' specifies an array containing arguments. If it is not
defined, no argument is specified.<br/> `<em>opts</em>' specifies
options by bitwise-or: `TokyoTyrant::RDB::MONOULOG' for omission of
the update log. If it is not defined, no option is specified.<br/> If
successful, the return value is an array of the result. `nil' is
returned on failure.<br/>
</p>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="RDB.src/M000012.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000012.html');return false;">
          <span class="method-name">open</span><span class="method-args">(host, port = 0)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Open a remote database connection.<br/> `<em>host</em>' specifies the
name or the address of the server.<br/> `<em>port</em>' specifies the
port number. If it is not defined or not more than 0, UNIX domain socket is
used and the path of the socket file is specified by the host parameter.<br/>
If successful, the return value is true, else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="RDB.src/M000019.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000019.html');return false;">
          <span class="method-name">out</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove a record.<br/> `<em>key</em>' specifies the key.<br/> If successful,
the return value is true, else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="RDB.src/M000014.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000014.html');return false;">
          <span class="method-name">put</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a record.<br/> `<em>key</em>' specifies the key.<br/>
`<em>value</em>' specifies the value.<br/> If successful, the return
value is true, else, it is false.<br/> If a record with the same key exists in
the database, it is overwritten.<br/>
</p>
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="RDB.src/M000016.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000016.html');return false;">
          <span class="method-name">putcat</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Concatenate a value at the end of the existing record.<br/>
`<em>key</em>' specifies the key.<br/> `<em>value</em>' specifies
the value.<br/> If successful, the return value is true, else, it is false.<br/>
If there is no corresponding record, a <a href="RDB.html#M000009">new</a>
record is created.<br/>
</p>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="RDB.src/M000015.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000015.html');return false;">
          <span class="method-name">putkeep</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a <a href="RDB.html#M000009">new</a> record.<br/> `<em>key</em>'
specifies the key.<br/> `<em>value</em>' specifies the value.<br/> If
successful, the return value is true, else, it is false.<br/> If a record with
the same key exists in the database, this method has no effect.<br/>
</p>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="RDB.src/M000018.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000018.html');return false;">
          <span class="method-name">putnr</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a record without response from the server.<br/> `<em>key</em>'
specifies the key.<br/> `<em>value</em>' specifies the value.<br/> If
successful, the return value is true, else, it is false.<br/> If a record with
the same key exists in the database, it is overwritten.<br/>
</p>
        </div>
      </div>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="RDB.src/M000017.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000017.html');return false;">
          <span class="method-name">putshl</span><span class="method-args">(key, value, width = 0)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Concatenate a value at the end of the existing record and shift it to the
left.<br/> `<em>key</em>' specifies the key.<br/> `<em>value</em>'
specifies the value.<br/> `<em>width</em>' specifies the width of the
record.<br/> If successful, the return value is true, else, it is false.<br/> If
there is no corresponding record, a <a href="RDB.html#M000009">new</a>
record is created.<br/>
</p>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="RDB.src/M000032.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000032.html');return false;">
          <span class="method-name">rnum</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the number of records.<br/> The return value is the number of records or 0
if the object does not connect to any database server.<br/>
</p>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="RDB.src/M000033.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000033.html');return false;">
          <span class="method-name">size</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the <a href="RDB.html#M000033">size</a> of the database.<br/> The return
value is the <a href="RDB.html#M000033">size</a> of the database or 0 if
the object does not connect to any database server.<br/>
</p>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="RDB.src/M000034.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000034.html');return false;">
          <span class="method-name">stat</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the status string of the database server.<br/> The return value is the
status message of the database or `nil' if the object does not
connect to any database server. The message format is TSV. The first field
of <a href="RDB.html#M000046">each</a> line means the parameter name and
the second field means the value.<br/>
</p>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="RDB.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000036.html');return false;">
          <span class="method-name">store</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Alias of `<a
href="RDB.html#M000014">put</a>'.<br/>
</p>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="RDB.src/M000029.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000029.html');return false;">
          <span class="method-name">sync</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Synchronize updated contents with the file and the device.<br/> If successful,
the return value is true, else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="RDB.src/M000051.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000051.html');return false;">
          <span class="method-name">values</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash-compatible method.<br/> Get an array of all <a
href="RDB.html#M000050">keys</a>.<br/>
</p>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="RDB.src/M000030.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000030.html');return false;">
          <span class="method-name">vanish</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove all records.<br/> If successful, the return value is true, else, it is
false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="RDB.src/M000022.html" target="Code" class="method-signature"
            onclick="popupCode('RDB.src/M000022.html');return false;">
          <span class="method-name">vsiz</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the <a href="RDB.html#M000033">size</a> of the value of a record.<br/>
`<em>key</em>' specifies the key.<br/> If successful, the return value
is the <a href="RDB.html#M000033">size</a> of the value of the
corresponding record, else, it is -1.<br/>
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
</div>

</body>
</html>
